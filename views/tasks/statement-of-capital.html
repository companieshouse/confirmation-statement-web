{% extends "layout.html" %}

{% block pageTitle %}
  {% if errorList.length > 0 %}
    Error:
  {% endif %}  Review the statement of capital
{% endblock %}

{% block backLink %}
  {% include "includes/back-link.html" %}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

        <form action="" method="post">

            {% if statementOfCapitalErrorMsg %}
              {{ govukErrorSummary({
                titleText: "There is a problem",
                errorList: [
                {
                  text: statementOfCapitalErrorMsg,
                  href: "#statement-of-capital"
                }
              ]
              }) }}
              {% set statementOfCapitalError = {
                text: statementOfCapitalErrorMsg
              } %}
            {% else %}
              {% set statementOfCapitalError = false %}
            {% endif %}

            <h1 class="govuk-heading-l">Check the statement of capital</h1>

            {% if sharesValidation === false %}
              {% set warningHTML %}
                <p><strong>You cannot continue to file a confirmation statement in this service.</strong></p>
                <p><strong>The company's share capital does not match the number of shares held by its shareholders.</strong></p>
                <p><strong>You must update this information by filing a confirmation statement through our <a href="https://ewf.companieshouse.gov.uk//seclogin?tc=1" data-event-id="webfiling-service-link-from-statement-of-capital-page">WebFiling service</a>.</strong></p>
              {% endset %}

              {{ govukWarningText({
                html: warningHTML,
                iconFallbackText: "Warning"})
              }}
            {% endif %}

            {% include "includes/statement-of-capital.html" %}

            {% if sharesValidation %}
              {{ govukRadios({
                classes: "govuk-radios--inline",
                idPrefix: "statement-of-capital",
                name: "statementOfCapital",
                errorMessage: statementOfCapitalError,
                fieldset: {
                  legend: {
                    text: "Is the statement of capital correct?",
                    isPageHeading: false,
                    classes: "govuk-fieldset__legend--l"
                  }
                },
                items: [
                  {
                    value: "yes",
                    text: "Yes"
                  },
                  {
                    value: "no",
                    text: "No"
                  }
                ]
              }) }}
              <input type="hidden" id="sharesValidation" name="sharesValidation" value=true>
            {% else %}
              <input type="hidden" id="sharesValidation" name="sharesValidation" value=false>
            {% endif %}

            {% include "includes/continue-button.html" %}
        </form>
    </div>
</div>
{% endblock %}
